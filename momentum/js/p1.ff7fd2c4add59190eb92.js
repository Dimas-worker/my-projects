(()=>{var e={251:()=>{let e;e=localStorage.getItem("arrTask")?localStorage.getItem("arrTask").split(","):["review four works"];const t=document.getElementsByClassName("close");Array.from(t).forEach((t=>{t.addEventListener("click",(()=>{console.log("del");let n=t.parentElement,a=n.textContent.slice(0,-1),o=e.filter((e=>e!==a));e=o,n.remove()}))})),document.querySelector(".task__list").addEventListener("click",(e=>{"LI"===e.target.tagName&&e.target.classList.toggle("checked")}),!1),document.querySelector(".btn__add").addEventListener("click",(function(){const n=document.createElement("li"),a=document.querySelector(".input_task");if(n.textContent=a.value,""===a.value)return;document.querySelector(".task__list").appendChild(n),e.push(a.value),a.value="";let o=document.createElement("SPAN"),c=document.createTextNode("×");o.classList.add("close"),o.appendChild(c),n.appendChild(o),Array.from(t).forEach((t=>{t.addEventListener("click",(()=>{let n=t.parentElement,a=n.textContent.slice(0,-1),o=e.filter((e=>e!==a));e=o,n.remove()}))}))})),window.addEventListener("beforeunload",(()=>{!function(){let t=document.getElementsByTagName("LI");Array.from(t).forEach((t=>{if(t.classList.contains("checked")){let n=t.textContent.slice(0,-1),a=e.filter((e=>e!==n));e=a}}))}(),localStorage.setItem("arrTask",e)})),window.addEventListener("load",(function(){localStorage.getItem("arrTask")&&localStorage.getItem("arrTask").split(",").forEach((n=>{!function(n){const a=document.createElement("li");a.textContent=n;let o=document.createElement("SPAN"),c=document.createTextNode("×");o.classList.add("close"),o.appendChild(c),a.appendChild(o),document.querySelector(".task__list").appendChild(a),Array.from(t).forEach((t=>{t.addEventListener("click",(()=>{let n=t.parentElement,a=n.textContent.slice(0,-1),o=e.filter((e=>e!==a));e=o,n.remove()}))}))}(n)}))}))}},t={};function n(a){var o=t[a];if(void 0!==o)return o.exports;var c=t[a]={exports:{}};return e[a](c,c.exports,n),c.exports}(()=>{"use strict";const e=document.querySelector(".time"),t=document.querySelector(".date"),a=document.querySelector(".greeting"),o=document.querySelector(".name"),c={en:"en-US",ru:"ru-RU"};let r;function s(n="en"){let o=n;const i=new Date,l=i.toLocaleTimeString("en-US",{hour12:!1,hour:"numeric",minute:"numeric",second:"numeric"});e.textContent=l,function(e,n="en"){const a=e.toLocaleDateString(`${c[n]}`,{weekday:"long",month:"long",day:"numeric"});t.textContent=a}(i,o);const u=function(e,t="en"){const n=e.getHours();let a=Math.floor(n/6);if("ru"==t)switch(a){case 0:return"ночи";case 1:return"утро";case 2:return"день";case 3:return"вечер"}else switch(a){case 0:return"night";case 1:return"morning";case 2:return"afternoon";case 3:return"evening"}}(i,o);a.textContent="ru"===o?"день"===u||"вечер"===u?`Добрый ${u},`:"утро"===u?`Доброе ${u},`:`Доброй ${u},`:`Good ${u},`,r=setTimeout((()=>{s(o)}),1e3)}function i(){localStorage.setItem("name",o.value)}s(),o.addEventListener("change",i),window.addEventListener("DOMContentLoaded",(function(){localStorage.getItem("name")&&(o.value=localStorage.getItem("name"))})),window.addEventListener("beforeunload",i);const l=document.querySelector(".weather-icon"),u=document.querySelector(".temperature"),d=document.querySelector(".weather-description"),m=document.querySelector(".weather-error"),g=document.querySelector(".city"),h=document.querySelector(".wind"),f=document.querySelector(".humidity");function v(e){return Math.round(e)}async function y(e="en"){const t=`https://api.openweathermap.org/data/2.5/weather?q=${g.value}&lang=${e}&appid=9f3de14e252fbf325b5d4bcb3413e236&units=metric`;try{const n=await fetch(t),a=await n.json();l.classList.add(`owf-${a.weather[0].id}`),u.textContent=`${v(a.main.temp)}°C`,d.textContent=a.weather[0].description,"ru"===e?("Minsk"===g.value&&(g.value="Минск"),h.textContent=`Скорость ветра: ${v(a.wind.speed)} м/с`,f.textContent=`Влажность: ${v(a.main.humidity)} %`):("Минск"===g.value&&(g.value="Minsk"),h.textContent=`Wind speed: ${v(a.wind.speed)} m/s`,f.textContent=`Humidity: ${v(a.main.humidity)} %`),m.textContent=""}catch(t){l.className="weather-icon owf",u.textContent="---- °C",d.textContent="","ru"===e?("Minsk"===g.value&&(g.value="Минск"),m.textContent=`Ошибка! Город ${g.value} не найден!`,h.textContent="Скорость ветра: ---- м/с",f.textContent="Влажность: ---- %"):("Минск"===g.value&&(g.value="Minsk"),m.textContent=`Error! city not found for ${g.value}!`,h.textContent="Wind speed: ---- m/s",f.textContent="Humidity: ---- %")}}y(),document.addEventListener("DOMContentLoaded",y),g.addEventListener("keypress",(function(e){"Enter"===e.code&&(y(),g.blur())}));const p=document.querySelector(".quote"),_=document.querySelector(".author"),L=document.querySelector(".change-quote");let S=E();async function k(e="en"){const t=`./json/data-${e}.json`,n=await fetch(t),a=await n.json();p.textContent=a[S].text,_.textContent=a[S].author}function E(){return Math.floor(10*Math.random())}function w(){localStorage.setItem("city",g.value)}k(),L.addEventListener("click",(()=>{let e=S;for(S=E();e===S;)S=E();k()})),g.addEventListener("change",w),window.addEventListener("DOMContentLoaded",(function(){localStorage.getItem("city")&&(g.value=localStorage.getItem("city"))})),window.addEventListener("beforeunload",w);const C=[{title:"Aqua Caelestis",src:"./assets/sounds/Aqua_Caelestis.mp3",duration:"00:58"},{title:"River Flows In You",src:"./assets/sounds/River_Flows_In_You.mp3",duration:"03:50"},{title:"Ennio Morricone",src:"./assets/sounds/Ennio_Morricone.mp3",duration:"00:58"},{title:"Summer Wind",src:"./assets/sounds/Summer_Wind.mp3",duration:"00:58"}],x=document.querySelector(".play"),q=document.querySelector(".play-prev"),b=document.querySelector(".play-next"),$=document.querySelector(".volume-icon"),I=document.querySelector(".progress__time"),A=document.querySelector(".player__volume"),P=document.querySelector(".player__bar"),T=document.querySelector(".player-track"),M=document.querySelector(".play-list");C.forEach((e=>{let t=document.createElement("li"),n=document.createElement("span");n.classList.add("play-item_icon"),t.classList.add("play-item"),t.textContent=e.title,M.append(t),t.append(n)}));const N=document.querySelectorAll(".play-item");let D=0;const j={"Aqua Caelestis":0,"River Flows In You":1,"Ennio Morricone":2,"Summer Wind":3},W=new Audio;function G(){N.forEach((e=>{e.classList.remove("active_track"),e.lastElementChild.classList.remove("pause")})),N[D].classList.add("active_track"),W.paused?N[D].lastElementChild.classList.add("pause"):N[D].lastElementChild.classList.remove("pause"),function(){let e=W.paused?"play":"pause";W[e]()}(),W.paused?x.classList.remove("pause"):x.classList.add("pause")}function F(){D=3===D?0:++D,W.src=`${C[D].src}`,T.textContent=`${C[D].title}`,W.currentTime=0,G()}function U(){const e=100*A.value;W.volume=A.value,A.style.background=`linear-gradient(to right, #000000 0%, #000000 ${e}%, #fff ${e}%, #fff 100%)`,0===W.volume?$.classList.add("mute"):$.classList.remove("mute")}let B,H;function O(e){if(!e)return"0:00";let t=Math.floor(e/60),n=Math.floor(e-60*t);return n<10&&(n=`0${n}`),`${t}:${n}`}function R(){return Math.ceil(20*Math.random())}function Y(e,t){switch(e){case"Github":V();break;case"Unsplash API":!async function(e){let t;t=e||Q(new Date),console.log(t);const n=`https://api.unsplash.com/photos/random?query=${t}&client_id=24fQEfxLzr73V-8EQmY8VPLxSofe7nXj6eoxxNCwwLk`;try{const e=await fetch(n),t=await e.json(),a=new Image;a.src=`${t.urls.regular}`,a.onload=()=>{document.body.style.backgroundImage=`url(${t.urls.regular})`}}catch(e){le.value="tag not exist"}}(t);break;case"Flickr API":!async function(e){let t;t=e||Q(new Date);const n=`https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=1b0d579b298ef41061e8b07aff51a8e5&tags=${t}&extras=url_l&format=json&nojsoncallback=1`;try{const e=await fetch(n),t=await e.json();let a=R();const o=new Image;o.src=`${t.photos.photo[a].url_l}`,o.onload=()=>{document.body.style.backgroundImage=`url(${t.photos.photo[a].url_l})`}}catch(e){le.value="tag not exist"}}(t)}}function Q(e){const t=e.getHours();switch(Math.floor(t/6)){case 0:return"night";case 1:return"morning";case 2:return"afternoon";case 3:return"evening"}}function V(){let e,t=Q(new Date);H?(H=+H,H=H>=10?H:`0${H}`):(e=R(),H=e>=10?e:`0${e}`);const n=new Image;n.src=`https://raw.githubusercontent.com/rolling-scopes-school/stage1-tasks/assets/images/${t}/${H}.jpg`,n.onload=()=>{document.body.style.backgroundImage=`url('https://raw.githubusercontent.com/rolling-scopes-school/stage1-tasks/assets/images/${t}/${H}.jpg')`}}W.src=`${C[D].src}`,T.textContent=`${C[D].title}`,x.addEventListener("click",G),q.addEventListener("click",(function(){D=0===D?3:--D,W.src=`${C[D].src}`,T.textContent=`${C[D].title}`,W.currentTime=0,G()})),b.addEventListener("click",F),U(),A.addEventListener("input",U),$.addEventListener("click",(function(){$.classList.toggle("mute"),+A.value>0?(B=A.value,A.value=0):A.value=B,U()})),W.addEventListener("timeupdate",(function(){let e=isNaN(W.duration)?0:W.currentTime/W.duration*100;P.value=isNaN(W.duration)?0:W.currentTime/W.duration,P.style.background=`linear-gradient(to right, #000000 0%, #000000 ${e}%, #fff ${e}%, #fff 100%)`,W.currentTime===W.duration&&F(),I.textContent=`${O(W.currentTime)} / ${O(W.duration)}`})),P.addEventListener("click",(function(e){let t=isNaN(W.duration)?0:e.offsetX/P.offsetWidth*W.duration;W.currentTime=t,I.textContent=`${O(W.currentTime)} / ${O(W.duration)}`})),M.addEventListener("click",(function(e){let t=D;if(e.target.classList.contains("play-item_icon")){if(e.target.classList.contains("pause"))e.target.parentElement.classList.add("active_track"),e.target.classList.remove("pause");else{e.target.parentElement.classList.add("active_track"),e.target.classList.add("pause");let n=e.target.parentElement.textContent;D=j[n],t!==D&&(W.src=`${C[D].src}`,T.textContent=`${C[D].title}`)}G()}})),V();const X=document.querySelector(".slide-prev"),z=document.querySelector(".slide-next");X.addEventListener("click",(function(){H="01"===H?20:--H,Y(ee)})),z.addEventListener("click",(function(){H=20===H?1:++H,Y(ee)}));const J=document.querySelector(".language__icons"),K=document.querySelectorAll(".language__icon");let Z="en",ee="Github";const te=[{en:"Setting",ru:"Настройки"},{en:"Language:",ru:"Язык:"},{en:"Source image:",ru:"Источник изб:"},{en:"tags:",ru:"Тэги:"},{en:"Display block:",ru:"Показать/скрыть блоки:"},{en:"Time",ru:"Время"},{en:"Date",ru:"Дата"},{en:"Greeting",ru:"Приветствие"},{en:"Quote",ru:"Цитата"},{en:"Weather",ru:"Погода"},{en:"Audio player",ru:"Аудио плеер"},{en:"ToDo",ru:"Список задач"}];function ne(e="en"){const t=document.querySelector(".input_task");"ru"===e?(o.placeholder="[Введите имя]",t.placeholder="Задача..."):(o.placeholder="[Enter name]",t.placeholder="Task...")}function ae(e){document.querySelectorAll(".lan__display").forEach(((t,n)=>{t.textContent=te[n][e]}))}J.addEventListener("click",(e=>{K.forEach((e=>{e.classList.remove("language__icon_active")})),e.target.classList.contains("language__icon")&&(e.target.classList.add("language__icon_active"),Z=e.target.textContent),k(Z),y(Z),clearTimeout(r),s(Z),ne(Z),ae(Z)}));const oe=document.querySelector(".background__icons"),ce=document.querySelectorAll(".bg__icon"),re=document.querySelector(".tags__name");oe.addEventListener("click",(e=>{ce.forEach((e=>{e.classList.remove("bg__icon_active")})),e.target.classList.contains("bg__icon")&&(e.target.classList.add("bg__icon_active"),ee=e.target.textContent),"Github"!==ee?re.classList.add("tags__name_active"):re.classList.remove("tags__name_active"),Y(ee)}));const se=document.querySelector(".setting-icon"),ie=document.querySelector(".setting__lists");se.addEventListener("click",(()=>{se.classList.toggle("setting-icon_active"),se.classList.contains("setting-icon_active")?ie.classList.add("setting__lists_active"):ie.classList.remove("setting__lists_active")}));const le=document.querySelector(".tags__name_input");le.addEventListener("change",(()=>{console.log(le.value),Y(ee,le.value)}));const ue=document.querySelector(".greeting-container"),de=document.querySelector(".quotes__container"),me=document.querySelector(".weather"),ge=document.querySelector(".player"),he=document.querySelectorAll(".checkbox_vis"),fe=document.querySelector(".todo"),ve=[e,t,ue,[de,L],me,ge,fe];function ye(){localStorage.setItem("curBg",ee),localStorage.setItem("curLan",Z),function(e){e.forEach((e=>{e.checked?localStorage.setItem(e.id,"checked"):localStorage.setItem(e.id,"no-checked")}))}(he)}he.forEach((e=>{e.addEventListener("change",(()=>{e.checked?Array.isArray(ve[e.name])?ve[e.name].forEach((e=>{e.classList.remove("hidden_block")})):ve[e.name].classList.remove("hidden_block"):Array.isArray(ve[e.name])?ve[e.name].forEach((e=>{e.classList.add("hidden_block")})):ve[e.name].classList.add("hidden_block")}))})),o.addEventListener("change",ye),window.addEventListener("DOMContentLoaded",(function(){var e,t;localStorage.getItem("curBg")&&(ee=localStorage.getItem("curBg")),localStorage.getItem("curLan")&&(Z=localStorage.getItem("curLan")),function(e,t){e.forEach((e=>{"no-checked"===localStorage.getItem(e.id)?(e.checked=!1,Array.isArray(t[e.name])?t[e.name].forEach((e=>{e.classList.add("hidden_block")})):t[e.name].classList.add("hidden_block")):(e.checked=!0,Array.isArray(t[e.name])?t[e.name].forEach((e=>{e.classList.remove("hidden_block")})):t[e.name].classList.remove("hidden_block"))}))}(he,ve),e=Z,t=ee,ce.forEach((e=>{e.textContent===t?e.classList.add("bg__icon_active"):e.classList.remove("bg__icon_active")})),"Github"!==t?re.classList.add("tags__name_active"):re.classList.remove("tags__name_active"),Y(t),K.forEach((t=>{t.textContent===e?t.classList.add("language__icon_active"):t.classList.remove("language__icon_active")})),k(e),y(e),clearTimeout(r),s(e),ne(e),ae(e)})),window.addEventListener("beforeunload",ye),n(251),console.log('Приветствую,\n  1.Часы и календарь 15/15\n  - время выводится в 24-часовом формате, например: 21:01:0 +5\n  - время обновляется каждую секунду - часы идут. Когда меняется одна из цифр, остальные при этом не меняют своё положение на странице (время не дёргается) +5\n  - выводится день недели, число, месяц, например: "Воскресенье, 16 мая" / "Sunday, May 16" / "Нядзеля, 16 траўня" +5\n  2. Приветствие 10/10\n  - текст приветствия меняется в зависимости от времени суток (утро, день, вечер, ночь). Проверяется соответствие приветствия текущему времени суток +5\n  - пользователь может ввести своё имя. При перезагрузке страницы приложения имя пользователя сохраняется +5\n  3. Смена фонового изображения 20/20\n  - ссылка на фоновое изображение формируется с учётом времени суток и случайного номера изображения (от 01 до 20) +5\n  - изображения можно перелистывать последовательно кликами по стрелкам +5\n  - изображения перелистываются по кругу: после двадцатого изображения идёт первое (клик по правой стрелке), перед 1 изображением идёт 20 (клик по левой стрелке) +5\n  - при смене слайдов важно обеспечить плавную смену фоновых изображений. \n  Не должно быть состояний, когда пользователь видит частично загрузившееся изображение или страницу без фонового изображения +5\n  4. Виджет погоды 15/15\n  - при перезагрузке страницы приложения указанный пользователем город сохраняется, данные о нём хранятся в local storage +5\n  - для указанного пользователем населённого пункта выводятся данные о погоде, если их возвращает API. Данные о погоде включают в себя:\n  иконку погоды, описание погоды, температуру в °C, скорость ветра в м/с, относительную влажность воздуха в %. Числовые параметры погоды округляются до целых чисел +5\n  - выводится уведомление об ошибке при вводе некорректных значений, для которых API не возвращает погоду (пустая строка или бессмысленный набор символов) +5\n  5. Виджет цитата дня 10/10\n  - при загрузке страницы приложения отображается рандомная цитата и её автор +5\n  - при перезагрузке страницы цитата обновляется (заменяется на другую). Есть кнопка, при клике по которой цитата обновляется (заменяется на другую) +5\n  6. Аудиоплеер 15/15\n  - при клике по кнопке Play/Pause проигрывается первый трек из блока play-list, иконка кнопки меняется на Pause +3\n  - при клике по кнопке Play/Pause во время проигрывания трека, останавливается проигрывание трека, иконка кнопки меняется на Play +3\n  - треки пролистываются по кругу - после последнего идёт первый (клик по кнопке Play-next), перед первым - последний (клик по кнопке Play-prev) +3\n  - трек, который в данный момент проигрывается, в блоке Play-list выделяется стилем +3\n  - после окончания проигрывания первого трека, автоматически запускается проигрывание следующего. Треки проигрываются по кругу: после последнего снова проигрывается первый. +3\n  7. Продвинутый аудиоплеер (реализуется без использования библиотек) 20/20\n  - добавлен прогресс-бар в котором отображается прогресс проигрывания +3\n  - при перемещении ползунка прогресс-бара меняется текущее время воспроизведения трека (Warning! Перемещение осуществляется левым кликом мыши по прогрессбару (only click)) +3\n  - над прогресс-баром отображается название трека +3\n  - отображается текущее и общее время воспроизведения трека +3\n  - есть кнопка звука при клике по которой можно включить/отключить звук +2\n  - добавлен регулятор громкости, при перемещении ползунка регулятора громкости меняется громкость проигрывания звука +3\n  - можно запустить и остановить проигрывания трека кликом по кнопке Play/Pause рядом с ним в плейлисте +3\n  8. Перевод приложения на два языка (en/ru) 15/15\n  - переводится язык и меняется формат отображения даты +3\n  - переводится приветствие и placeholder +3\n  - переводится прогноз погоды в т.ч описание погоды и город по умолчанию +3\n  - переводится цитата дня т.е цитата отображается на текущем языке приложения +3\n  - переводятся настройки приложения, при переключении языка приложения в настройках, язык настроек тоже меняется +3\n  9. Получение фонового изображения от API 10/10\n  - в качестве источника изображений может использоваться Unsplash API +5\n  - в качестве источника изображений может использоваться Flickr API (Warning! Получение изображения может занять несколько секунд!) +5\n  10. Настройки приложения 20/20\n  - в настройках приложения можно указать язык приложения (en/ru) +3\n  - в настройках приложения можно указать источник получения фото для фонового изображения: коллекция изображений GitHub, Unsplash API, Flickr API +3\n  - если источником получения фото указан API, в настройках приложения можно указать тег, для которых API будет присылает фото (Warning! строка с тегом отображается при активном API) +3\n  - в настройках приложения можно скрыть/отобразить любой из блоков +3\n  - Скрытие и отображение блоков происходит плавно, не влияя на другие элементы, которые находятся на странице, или плавно смещая их +3\n  - настройки приложения сохраняются при перезагрузке страницы +5\n  11. ToDo List - список дел (за оригинал не скажу, но невыполненные задачи храняться в localstorage) +10\n  ')})()})();