(()=>{"use strict";var e={946:(e,t,n)=>{n.r(t)},612:(e,t,n)=>{n.r(t)},188:(e,t,n)=>{n.r(t)},911:(e,t,n)=>{n.r(t)},322:(e,t,n)=>{n.r(t)},885:(e,t,n)=>{n.r(t)},107:(e,t,n)=>{n.r(t)},110:(e,t,n)=>{n.r(t)},296:(e,t,n)=>{n.r(t)},477:function(e,t,n){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=i(n(34)),r=i(n(791)),s=i(n(887)),o=i(n(922));t.default=class{constructor(){this.container=document.body,this.winner=new s.default,this.garage=new r.default(this.winner),this.header=new a.default(this.garage.element,this.winner.element),this.main=new o.default("div",["main"]),this.main.element.append(this.garage.element,this.winner.element)}run(){this.container.append(this.header.element,this.main.element)}}},531:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(a,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function o(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((i=i.apply(e,t||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),n(946);const r=a(n(922)),s=a(n(734)),o=n(335),l=n(499),d=n(927);class u extends r.default{constructor(e,t){super("div",["car"]),this.changeCar=new r.default("div",["shift-car"]),this.carTrack=new r.default("div",["track-car"]),this.carImage=new r.default("div",["img-car"]),this.selectCar=new s.default("select"),this.removeCar=new s.default("remove"),this.startEngine=new s.default("start"),this.stopEngine=new s.default("stop"),this.isAnimated=!0,this.isEngineStop=!1,this.updatedForm=t,this.element.setAttribute("id",e.id.toString()),this.removeCar.button.setAttribute("id",e.id.toString()),this.carModel=new r.default("p",["name-car"],e.name),this.changeCar.element.append(this.selectCar.button,this.removeCar.button,this.carModel.element),this.stopEngine.button.disabled=!0,this.startEngine.button.disabled=!1,this.stopEngine.button.classList.add("inactive-btn"),this.renderCarTrack(e),this.engineStatus(),this.updateCar(),this.deleteCar(),this.element.append(this.changeCar.element,this.carTrack.element)}renderCarTrack(e){const t=new r.default("div",["controls-car"]);t.element.append(this.startEngine.button,this.stopEngine.button),this.carImage.element.innerHTML=(0,o.setColorCar)(e.color);const n=document.createElement("img");n.classList.add("img-flag"),n.src="./assets/flag.svg",n.alt="flag",this.carTrack.element.append(t.element,this.carImage.element,n)}moveCar(){return i(this,void 0,void 0,(function*(){this.switchActiveButton();const e=yield(0,d.getEngineParameters)(+this.element.id,"started");this.isEngineStop=!1,this.isAnimated=!0;const t=e.distance/e.velocity;return this.animateCarMoving(t),(t/1e3).toFixed(2)}))}stopCar(){return i(this,void 0,void 0,(function*(){this.switchActiveButton(),yield(0,d.getEngineParameters)(+this.element.id,"stopped"),this.isAnimated=!1,this.isEngineStop=!0,this.carImage.element.style.transform="translateX(0px)"}))}engineStatus(){this.startEngine.button.addEventListener("click",(()=>i(this,void 0,void 0,(function*(){yield this.moveCar(),this.getStatusEngine(this.element.id)})))),this.stopEngine.button.addEventListener("click",(()=>i(this,void 0,void 0,(function*(){yield this.stopCar()}))))}animateCarMoving(e){const t=this.carTrack.element.offsetWidth-this.carImage.element.offsetWidth-l.CAR_START_POSITION,n=performance.now();let i=0,a=0;const r=s=>{a=s-n,i=t/e*a,this.isEngineStop&&(i=0),this.carImage.element.style.transform=`translateX(${i}px)`,a<e&&this.isAnimated&&window.requestAnimationFrame(r)};window.requestAnimationFrame(r)}getStatusEngine(e){return i(this,void 0,void 0,(function*(){const t=yield(0,d.getStatusDrive)(e);return 500===t.status&&(this.isAnimated=!1),t.status}))}updateCar(){this.selectCar.button.addEventListener("click",(()=>{this.updatedForm.switchActive(),this.updatedForm.submit.addEventListener("click",(e=>i(this,void 0,void 0,(function*(){e.preventDefault(),this.carModel.updateTextContent(this.updatedForm.inputText.value),this.carImage.element.innerHTML=(0,o.setColorCar)(this.updatedForm.inputColor.value),yield(0,d.updateCarData)(this.element.id,{name:this.updatedForm.inputText.value,color:this.updatedForm.inputColor.value}),this.updatedForm.cleanInputs(),this.updatedForm.switchActive()}))),{once:!0})}))}deleteCar(){this.removeCar.button.addEventListener("click",(()=>{this.element.remove()}))}switchActiveButton(){this.startEngine.button.disabled=!this.startEngine.button.disabled,this.startEngine.button.classList.toggle("inactive-btn"),this.stopEngine.button.disabled=!this.stopEngine.button.disabled,this.stopEngine.button.classList.toggle("inactive-btn")}}t.default=u},180:function(e,t,n){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),n(612);const a=i(n(922)),r=n(335);class s extends a.default{constructor(e){super("form",["form"]),this.inputText=(0,r.createInputElement)("text","input-text","","Car name"),this.inputColor=(0,r.createInputElement)("color","input-color",""),this.submit=(0,r.createInputElement)("submit","input-submit",e),this.element.append(this.inputText,this.inputColor,this.submit)}cleanInputs(){this.inputText.value="",this.inputColor.value="#000000"}switchActive(){this.element.classList.toggle("form-inactive"),Array.from(this.element.children).forEach((e=>{const t=e;t.disabled=!t.disabled}))}}t.default=s},470:function(e,t,n){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=i(n(922));n(188);class r extends a.default{constructor(e){super("h2",["garage-title"]),this.numbers=e,this.element.textContent=`Garage (${e})`}updateValue(e){this.numbers=e,this.element.textContent=`Garage (${this.numbers})`}addCar(){this.element.textContent=`Garage (${++this.numbers})`}removeCar(){this.element.textContent=`Garage (${--this.numbers})`}get getValue(){return this.numbers}}t.default=r},791:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(a,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function o(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((i=i.apply(e,t||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),n(911);const r=a(n(922)),s=a(n(180)),o=a(n(734)),l=a(n(159)),d=a(n(531)),u=a(n(470)),c=a(n(502)),h=n(927),g=n(335),m=n(499);class p extends r.default{constructor(e){super("div",["garage"]),this.createdForm=new s.default("create"),this.updatedForm=new s.default("update"),this.controls=new r.default("div",["controls"]),this.raceAll=new o.default("race"),this.resetAll=new o.default("reset"),this.generatedCars=new o.default("generate-cars"),this.garageArea=new r.default("div",["garage-area"]),this.prevGaragePage=new o.default("prev"),this.nextGaragePage=new o.default("next"),this.currentGaragePage=m.PAGE_DEFAULT,this.currentCars=[],this.carsField=new r.default("div",["cars-field"]),this.manegeGarage=new r.default("div",["garage-manege"]),this.popup=null,this.isStarted=!0,this.winner=e,this.resetAll.button.disabled=!0,this.resetAll.button.classList.add("inactive-btn"),this.controls.element.append(this.raceAll.button,this.resetAll.button,this.generatedCars.button),this.titleCarsNumbers=new u.default(this.currentCars.length),this.updatedForm.switchActive(),this.pageNumber=new l.default(this.currentGaragePage),this.prevGaragePage.button.disabled=!1,this.nextGaragePage.button.disabled=!1,this.getGarageCars(),this.createCar(),this.startRace(),this.stopRace(),this.deleteCar(),this.createRandomCars(),this.switchGaragePage(),this.renderGaragePage(),this.updateCarsWinner()}renderGaragePage(){this.manegeGarage.element.append(this.prevGaragePage.button,this.nextGaragePage.button),this.garageArea.element.append(this.titleCarsNumbers.element,this.pageNumber.element,this.carsField.element,this.manegeGarage.element),this.element.append(this.createdForm.element,this.updatedForm.element,this.controls.element,this.garageArea.element)}getGarageCars(){return i(this,void 0,void 0,(function*(){const e=yield(0,h.getCurrentGarageData)(this.currentGaragePage.toString());this.renderGarageCars(e.allCars),this.titleCarsNumbers.updateValue(+e.carsCount)}))}renderGarageCars(e){this.carsField.element.innerHTML="",this.currentCars.length=0,e.forEach((e=>{const t=new d.default(e,this.updatedForm);this.currentCars.push(t),this.carsField.element.append(t.element)}))}startRace(){this.raceAll.button.addEventListener("click",(()=>i(this,void 0,void 0,(function*(){this.isStarted=!0,this.popup=null,this.raceAll.button.disabled=!0,this.resetAll.button.disabled=!1,this.disableManegeGarage(),this.currentCars.forEach((e=>i(this,void 0,void 0,(function*(){const t=yield e.moveCar();if(200===(yield e.getStatusEngine(e.element.id))&&this.isStarted&&!this.popup){const n=e.carModel.element.textContent;this.popup=new c.default(n,t),this.element.append(this.popup.element),yield(0,g.setCarWinner)(e.element.id,t),this.winner.createTableBody()}}))))}))))}stopRace(){this.resetAll.button.addEventListener("click",(()=>i(this,void 0,void 0,(function*(){this.raceAll.button.disabled=!1,this.resetAll.button.disabled=!0,this.isStarted=!1,this.disableManegeGarage(),this.popup&&this.popup.remove(),yield Promise.all(this.currentCars.map((e=>e.stopCar())))}))))}createCar(){this.createdForm.submit.addEventListener("click",(e=>i(this,void 0,void 0,(function*(){e.preventDefault();const t=yield(0,h.createCarData)({name:this.createdForm.inputText.value,color:this.createdForm.inputColor.value}),n=new d.default(t,this.updatedForm);this.currentCars.push(n),this.currentCars.length<=m.CARS_LIMIT_GARAGE&&this.carsField.element.append(n.element),this.titleCarsNumbers.addCar(),this.createdForm.cleanInputs(),yield this.getGarageCars()}))))}deleteCar(){this.carsField.element.addEventListener("click",(e=>i(this,void 0,void 0,(function*(){const t=e.target;"remove"===t.textContent&&(yield(0,h.deleteCarData)(t.id),yield this.getGarageCars(),yield this.deleteCarWinner(t.id)),this.currentCars.length||(this.pageNumber.updateValue(--this.currentGaragePage),yield this.getGarageCars())}))))}createRandomCars(){this.generatedCars.button.addEventListener("click",(()=>i(this,void 0,void 0,(function*(){const e=[];for(let t=0;t<m.RANDOM_CARS_AMOUNT;t++)e.push({name:(0,g.getRandomCarName)(),color:(0,g.getRandomColor)()});const t=e.map((e=>(0,h.createCarData)(e)));yield Promise.all(t),this.getGarageCars()}))))}switchGaragePage(){this.manegeGarage.element.addEventListener("click",(e=>i(this,void 0,void 0,(function*(){if("next"===e.target.textContent)this.currentGaragePage*m.CARS_LIMIT_GARAGE<this.titleCarsNumbers.getValue&&this.pageNumber.updateValue(++this.currentGaragePage);else{if(this.currentGaragePage===m.PAGE_DEFAULT)return;this.pageNumber.updateValue(--this.currentGaragePage),(0,h.getCurrentGarageData)(this.currentGaragePage.toString())}const t=yield(0,h.getCurrentGarageData)(this.currentGaragePage.toString());this.renderGarageCars(t.allCars)}))))}deleteCarWinner(e){return i(this,void 0,void 0,(function*(){(yield(0,g.getAllCars)(e)).length&&(yield(0,h.deleteCarWinnerData)(e),yield this.winner.createTableBody())}))}updateCarsWinner(){this.updatedForm.submit.addEventListener("click",(()=>{this.winner.createTableBody()}))}disableManegeGarage(){this.resetAll.button.classList.toggle("inactive-btn"),this.raceAll.button.classList.toggle("inactive-btn"),this.prevGaragePage.button.disabled=!this.prevGaragePage.button.disabled,this.nextGaragePage.button.disabled=!this.nextGaragePage.button.disabled,this.manegeGarage.element.classList.toggle("inactive-btn")}}t.default=p},159:function(e,t,n){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),n(322);const a=i(n(922));class r extends a.default{constructor(e){super("h2",["garage-page"]),this.element.textContent=`Page #${e}`}updateValue(e){this.element.textContent=`Page #${e}`}}t.default=r},34:function(e,t,n){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),n(885);const a=i(n(922));class r extends a.default{constructor(e,t){super("div",["header"]),this.garage=e,this.winner=t,this.btnGarage=new a.default("button",["btn"],"To garage"),this.btnWinner=new a.default("button",["btn"],"To winner"),this.element.append(this.btnGarage.element,this.btnWinner.element),this.switchPage()}switchPage(){this.element.childNodes.forEach((e=>{e.addEventListener("click",(e=>{if("To garage"===e.target.textContent){if(this.winner.classList.contains("invisible"))return;this.removeCLassVisible(),this.winner.classList.add("invisible")}else{if(this.garage.classList.contains("invisible"))return;this.removeCLassVisible(),this.garage.classList.add("invisible")}}))}))}removeCLassVisible(){[this.garage,this.winner].forEach((e=>{e.classList.remove("invisible")}))}}t.default=r},502:function(e,t,n){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=i(n(922));n(107);class r extends a.default{constructor(e,t){super("div",["popup"]),this.title=new a.default("div",["popup__title"]),this.title.element.textContent=`The winner is ${e} with time ${t}s! Press reset to be continue.`,this.element.append(this.title.element)}remove(){this.element.remove()}}t.default=r},887:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(a,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function o(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((i=i.apply(e,t||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=a(n(922));n(110);const s=n(927),o=n(335),l=n(499),d=a(n(470)),u=a(n(159)),c=a(n(734));class h extends r.default{constructor(){super("div",["winner","invisible"]),this.currentPageWinner=l.PAGE_DEFAULT,this.titleCarsNumbers=new d.default(l.PAGE_DEFAULT),this.table=new r.default("table",["table"]),this.thead=new r.default("thead",["table-head"]),this.tbody=new r.default("tbody",["table-body"]),this.prevWinnerPage=new c.default("prev"),this.nextWinnerPage=new c.default("next"),this.manegeWinners=new r.default("div",["winner-manege"]),this.isWinMax=!0,this.isTimeBest=!0,this.pageNumber=new u.default(this.currentPageWinner),this.createTableHead(),this.createTableBody(),this.switchWinnerPage(),this.manegeWinners.element.append(this.prevWinnerPage.button,this.nextWinnerPage.button),this.element.append(this.titleCarsNumbers.element,this.pageNumber.element,this.table.element,this.manegeWinners.element)}createTableHead(){l.TABLE_HEADER.forEach((e=>{const t=new r.default("th",["th"],e);"Wins"===e?this.sortTable(t.element,"wins",this.isWinMax):"Best time (s)"===e&&this.sortTable(t.element,"time",this.isTimeBest),this.thead.element.append(t.element)})),this.table.element.append(this.thead.element)}sortTable(e,t,n){let a=n;e.classList.add("active-column");const r=document.createElement("span");e.append(r),e.addEventListener("click",(()=>i(this,void 0,void 0,(function*(){const e=a?"DESC":"ASC";a=!a,r.classList.contains("arrow-icon")||r.classList.add("arrow-icon"),r.classList.toggle("arrow-rotated");const n=yield(0,s.sortWinner)(t,e,this.currentPageWinner),i=yield(0,o.convertCarWinners)(n);this.updateTableBody(i)}))))}updateTableBody(e){return i(this,void 0,void 0,(function*(){this.tbody.element.innerHTML="",e.forEach(((e,t)=>{const n=new r.default("tr",["tr"]),i=new r.default("td",["td"],`${t+1}`);n.element.append(i.element),e.forEach(((e,t)=>{const i=new r.default("td",["td"]);t?i.element.textContent=`${e}`:i.element.innerHTML=(0,o.setColorCar)(e),n.element.append(i.element)})),this.tbody.element.append(n.element)})),this.table.element.append(this.tbody.element)}))}createTableBody(){return i(this,void 0,void 0,(function*(){const e=yield(0,s.getWinnersData)(this.currentPageWinner);this.titleCarsNumbers.updateValue(+e.carsCount);const t=yield(0,o.convertCarWinners)(e.allCars);this.updateTableBody(t)}))}switchWinnerPage(){this.manegeWinners.element.addEventListener("click",(e=>i(this,void 0,void 0,(function*(){if("next"===e.target.textContent)this.currentPageWinner*l.CARS_LIMIT_WINNERS<this.titleCarsNumbers.getValue&&(this.pageNumber.updateValue(++this.currentPageWinner),this.createTableBody());else{if(this.currentPageWinner===l.PAGE_DEFAULT)return;this.pageNumber.updateValue(--this.currentPageWinner),this.createTableBody()}}))))}}t.default=h},499:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CARS_LIMIT_WINNERS=t.TABLE_HEADER=t.BASE_URL=t.RANDOM_CARS_AMOUNT=t.CARS_LIMIT_GARAGE=t.CARS_BRANDS=t.CARS_MODELS=t.CAR_START_POSITION=t.PAGE_DEFAULT=void 0,t.PAGE_DEFAULT=1,t.CAR_START_POSITION=63,t.CARS_LIMIT_GARAGE=7,t.CARS_LIMIT_WINNERS=10,t.RANDOM_CARS_AMOUNT=100,t.BASE_URL="http://127.0.0.1:3000/",t.TABLE_HEADER=["#","Car","Name","Wins","Best time (s)"],t.CARS_MODELS=["Roadster","S","X","3","Y","Cybertruck","X5","X7","X3","X6","GT4","FXX","599 GTO","Enzo","458 Italia","250 GTO","Priora","4x4","Rio","Focus","Kalina","Vesta","Spark","Lacetti","Nexia","Matiz","Cobalt","Captiva","A7","A5","A3","A8","TT","Corolla","Camry","RAV4","Impreza","WRX","ES","LS","RX","GX","LX","GS","LC500","Gallardo","Aventador","911","Cayenne","FX37"],t.CARS_BRANDS=["Audi","Alfa Romeo","Alpina","Aston Martin","Axon","Ford","Ferrari","Fiat","GAZ","GMC","Honda","Hummer","Hyundai","Infiniti","Isuzu","JAC","Jaguar","Jeep","Kamaz","Lada","Lexus","Lotus","MAN","Maybach","MAZ","Mazda","McLaren","Nissan","Opel","Paccar","Pagani","Pontiac","Porsche","Renault","Skoda","Smart","Subaru","Suzuki","Tesla","Toyota","UAZ","Volvo","ZAZ","XPeng","TVR","Saab","RAM","Chevrolet","Mazzanti","Daewoo"]},922:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e="div",t=[],n){this.element=document.createElement(e),this.element.classList.add(...t),n&&(this.element.textContent=n)}updateTextContent(e){this.element.textContent=e}}},734:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e){this.button=document.createElement("button"),this.button.classList.add(e),this.button.textContent=e.replace("-"," ")}}},927:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(a,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function o(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.sortWinner=t.deleteCarWinnerData=t.createCarWinner=t.updateCarWinnerData=t.getAllWinners=t.getCarWinnerData=t.getWinnersData=t.getStatusDrive=t.updateCarData=t.createCarData=t.deleteCarData=t.getCarData=t.getCurrentGarageData=t.getEngineParameters=void 0;const a=n(499);t.getCurrentGarageData=function(e){return i(this,void 0,void 0,(function*(){let t="0";const n=yield fetch(`${a.BASE_URL}garage?_page=${e}&_limit=7`),i=yield n.json();return n.headers.get("X-Total-Count")&&(t=n.headers.get("X-Total-Count")),{allCars:i,carsCount:t}}))},t.getEngineParameters=function(e,t){return i(this,void 0,void 0,(function*(){let n;try{const i=yield fetch(`${a.BASE_URL}engine?id=${e}&status=${t}`,{method:"PATCH"});n=yield i.json()}catch(e){n={velocity:0,distance:5e5}}return n}))},t.createCarData=function(e){return i(this,void 0,void 0,(function*(){const t=yield fetch(`${a.BASE_URL}garage`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return yield t.json()}))},t.updateCarData=function(e,t){return i(this,void 0,void 0,(function*(){yield fetch(`${a.BASE_URL}garage/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>e.status)).catch((e=>e))}))},t.deleteCarData=function(e){return i(this,void 0,void 0,(function*(){yield fetch(`${a.BASE_URL}garage/${e}`,{method:"DELETE"}).then((e=>e.status)).catch((e=>e))}))},t.getStatusDrive=function(e){return i(this,void 0,void 0,(function*(){return yield fetch(`${a.BASE_URL}engine?id=${e}&status=drive`,{method:"PATCH"})}))},t.getCarData=function(e){return i(this,void 0,void 0,(function*(){const t=yield fetch(`${a.BASE_URL}garage/${e}`);return yield t.json()}))},t.getWinnersData=function(e){return i(this,void 0,void 0,(function*(){let t="0";const n=yield fetch(`${a.BASE_URL}winners?_page=${e}&_limit=10`),i=yield n.json();return n.headers.get("X-Total-Count")&&(t=n.headers.get("X-Total-Count")),{allCars:i,carsCount:t}}))},t.getAllWinners=function(){return i(this,void 0,void 0,(function*(){const e=yield fetch(`${a.BASE_URL}winners?_limit=10`);return yield e.json()}))},t.getCarWinnerData=function(e){return i(this,void 0,void 0,(function*(){const t=yield fetch(`${a.BASE_URL}winners/${e}`);return yield t.json()}))},t.updateCarWinnerData=function(e,t){return i(this,void 0,void 0,(function*(){yield fetch(`${a.BASE_URL}winners/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>e.status)).catch((e=>e))}))},t.createCarWinner=function(e){return i(this,void 0,void 0,(function*(){yield fetch(`${a.BASE_URL}winners`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>e.status)).catch((e=>e))}))},t.deleteCarWinnerData=function(e){return i(this,void 0,void 0,(function*(){yield fetch(`${a.BASE_URL}winners/${e}`,{method:"DELETE"}).then((e=>e.status)).catch((e=>e))}))},t.sortWinner=function(e,t,n){return i(this,void 0,void 0,(function*(){const i=yield fetch(`${a.BASE_URL}winners?_page=${n}&_limit=10&_sort=${e}&_order=${t}`);return yield i.json()}))}},335:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(a,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function o(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.setCarWinner=t.getAllCars=t.convertCarWinners=t.getRandomCarName=t.getRandomColor=t.setColorCar=t.createInputElement=void 0;const a=n(499),r=n(927);function s(e){return i(this,void 0,void 0,(function*(){return(yield(0,r.getAllWinners)()).filter((t=>t.id===+e))}))}t.createInputElement=function(e,t,n,i){const a=document.createElement("input");return a.type=e,a.classList.add(t),a.value=n,i&&(a.placeholder=i),a},t.getRandomColor=function(){let e=Math.floor(16777216*Math.random()).toString(16);for(;e.length<6;)e=`0${e}`;return`#${e}`},t.getRandomCarName=function(){const e=a.CARS_MODELS,t=a.CARS_BRANDS;return`${t[Math.ceil(Math.random()*(t.length-1))]} ${e[Math.ceil(Math.random()*(e.length-1))]}`},t.convertCarWinners=function(e){return i(this,void 0,void 0,(function*(){const t=e.map((e=>i(this,void 0,void 0,(function*(){const t=[],n=yield(0,r.getCarData)(e.id);return t.push(n.color,n.name,e.wins.toString(),e.time.toString()),t}))));return Promise.all(t)}))},t.getAllCars=s,t.setCarWinner=function(e,t){return i(this,void 0,void 0,(function*(){if((yield s(e)).length){const n=yield(0,r.getCarWinnerData)(e);++n.wins,n.time=+t>n.time?n.time:+t,yield(0,r.updateCarWinnerData)(e,{wins:n.wins,time:n.time})}else yield(0,r.createCarWinner)({id:+e,wins:1,time:+t})}))},t.setColorCar=function(e="#000000"){return`<svg version="1.0" xmlns="http://www.w3.org/2000/svg"\n    width="80px" height="40px" viewBox="0 0 1280.000000 640.000000"\n    preserveAspectRatio="xMidYMid meet">\n  <g transform="translate(0.000000,640.000000) scale(0.100000,-0.100000)"\n  fill=${e} stroke="none">\n  <path d="M3565 5336 c-106 -30 -101 -26 -108 -111 -4 -42 -9 -80 -12 -85 -6\n  -10 -246 -105 -590 -234 -448 -167 -1052 -415 -1173 -483 -78 -43 -193 -91\n  -250 -104 -23 -5 -98 -14 -165 -19 -67 -6 -167 -19 -222 -30 -154 -31 -340\n  -49 -563 -57 l-203 -6 -43 -66 c-59 -91 -60 -95 -26 -130 37 -37 38 -65 3\n  -150 -25 -62 -27 -78 -31 -256 l-4 -190 -38 -32 c-91 -78 -133 -209 -134 -418\n  0 -194 11 -396 26 -482 13 -71 14 -74 72 -122 69 -58 130 -129 158 -184 64\n  -126 534 -211 1384 -250 l92 -4 -6 119 c-6 142 8 256 49 383 112 352 394 622\n  756 722 90 26 112 28 278 28 165 0 188 -2 278 -27 201 -56 361 -152 504 -302\n  140 -145 222 -293 274 -492 21 -79 24 -109 23 -279 -1 -127 -6 -214 -16 -263\n  l-15 -73 3006 7 c1653 4 3007 8 3009 9 1 1 -8 37 -20 81 -19 67 -22 105 -22\n  259 -1 166 1 187 27 279 117 421 467 736 885 797 119 17 325 7 432 -21 239\n  -63 453 -205 601 -399 70 -92 154 -267 185 -386 24 -88 27 -119 27 -260 1\n  -116 -4 -181 -16 -234 -10 -41 -16 -75 -15 -76 2 -1 62 2 133 6 266 16 458 45\n  525 79 48 24 97 81 127 146 l24 52 -16 157 c-15 152 -15 163 4 284 63 388 50\n  680 -35 802 -134 193 -526 336 -1429 519 -737 149 -1322 209 -2033 210 -228 0\n  -226 0 -347 85 -187 131 -1045 607 -1471 815 -383 187 -788 281 -1439 332\n  -208 17 -1106 16 -1400 0 -121 -7 -314 -19 -430 -27 -302 -22 -286 -22 -341\n  10 -140 81 -187 94 -269 71z m1885 -333 c6 -37 38 -238 71 -446 32 -209 66\n  -422 75 -474 9 -52 15 -96 13 -97 -11 -9 -1699 29 -1951 44 -206 13 -417 36\n  -485 54 -98 26 -198 119 -249 231 -35 75 -36 172 -5 255 17 45 30 61 68 86 83\n  54 135 80 253 127 341 136 858 230 1460 267 269 16 270 16 511 18 l227 2 12\n  -67z m630 47 c264 -18 777 -110 1029 -186 186 -56 445 -188 756 -387 211 -134\n  274 -181 250 -185 -75 -12 -133 -50 -162 -106 -19 -35 -21 -136 -4 -179 l11\n  -27 -907 2 -906 3 -59 160 c-110 302 -298 878 -298 916 0 6 95 2 290 -11z"/>\n  <path d="M2633 3125 c-223 -40 -410 -141 -568 -306 -132 -138 -213 -283 -262\n  -467 -22 -83 -26 -119 -26 -247 -1 -169 10 -236 65 -382 87 -230 271 -436 493\n  -551 85 -44 178 -78 271 -98 107 -23 312 -23 419 1 392 84 699 375 802 761 23\n  86 26 120 27 254 1 158 -5 199 -46 330 -98 310 -355 567 -668 669 -150 50\n  -354 64 -507 36z m350 -301 c249 -56 457 -247 543 -499 25 -72 28 -95 28 -220\n  1 -153 -15 -228 -74 -345 -94 -186 -283 -337 -485 -386 -96 -24 -268 -24 -360\n  0 -320 84 -544 355 -562 681 -20 359 209 673 558 765 94 24 253 26 352 4z"/>\n  <path d="M2600 2697 c-36 -13 -85 -36 -109 -51 l-44 -28 116 -115 c81 -82 120\n  -114 131 -110 14 6 16 29 16 167 0 186 6 178 -110 137z"/>\n  <path d="M2920 2561 c0 -139 2 -162 16 -168 11 -4 50 28 130 108 l115 114 -28\n  22 c-34 28 -138 70 -193 79 l-40 7 0 -162z"/>\n  <path d="M2282 2448 c-28 -36 -92 -191 -92 -225 0 -10 34 -13 165 -13 151 0\n  165 1 165 18 0 15 -206 232 -221 232 -4 0 -11 -6 -17 -12z"/>\n  <path d="M3222 2351 c-62 -59 -112 -115 -112 -124 0 -15 17 -17 165 -17 131 0\n  165 3 165 13 0 40 -69 205 -95 227 -7 6 -48 -27 -123 -99z"/>\n  <path d="M2781 2332 c-12 -22 11 -62 34 -62 8 0 21 10 29 22 20 28 4 58 -29\n  58 -13 0 -29 -8 -34 -18z"/>\n  <path d="M2749 2161 c-32 -33 -37 -67 -14 -110 29 -57 104 -64 151 -14 53 57\n  9 153 -71 153 -27 0 -44 -8 -66 -29z"/>\n  <path d="M2570 2125 c-26 -32 13 -81 48 -59 24 16 27 45 6 61 -23 17 -39 16\n  -54 -2z"/>\n  <path d="M3006 2124 c-20 -19 -20 -38 -2 -54 23 -19 61 -8 64 18 7 44 -32 67\n  -62 36z"/>\n  <path d="M2190 1975 c0 -29 41 -140 72 -194 l31 -53 117 117 c71 71 116 123\n  113 131 -4 11 -40 14 -169 14 -141 0 -164 -2 -164 -15z"/>\n  <path d="M3110 1972 c0 -9 51 -68 114 -131 l114 -114 31 54 c30 51 71 165 71\n  195 0 11 -31 14 -165 14 -151 0 -165 -1 -165 -18z"/>\n  <path d="M2780 1901 c-7 -15 -5 -24 8 -41 32 -40 85 -4 62 41 -14 25 -56 25\n  -70 0z"/>\n  <path d="M2562 1697 c-61 -62 -112 -115 -112 -119 0 -18 208 -108 249 -108 7\n  0 11 54 11 164 0 140 -2 165 -16 170 -9 3 -16 6 -17 6 -1 0 -53 -51 -115 -113z"/>\n  <path d="M2933 1803 c-15 -6 -19 -333 -4 -333 46 0 251 88 251 108 0 9 -223\n  232 -230 231 -3 0 -11 -3 -17 -6z"/>\n  <path d="M10700 3119 c-390 -84 -696 -376 -797 -759 -31 -117 -41 -292 -24\n  -411 33 -227 150 -453 318 -609 267 -250 643 -344 993 -249 117 32 283 118\n  380 196 487 396 518 1128 67 1560 -97 93 -166 140 -290 198 -137 64 -235 86\n  -407 91 -120 3 -162 0 -240 -17z m445 -313 c238 -81 409 -258 486 -506 30 -96\n  33 -289 5 -388 -110 -400 -513 -637 -911 -536 -149 38 -313 147 -402 267 -176\n  238 -203 533 -71 797 34 69 60 103 138 180 77 78 111 104 181 139 129 65 207\n  81 364 77 109 -3 143 -7 210 -30z"/>\n  <path d="M10703 2700 c-54 -19 -153 -71 -153 -80 0 -3 51 -57 114 -119 80 -80\n  119 -112 130 -108 14 5 16 29 16 167 l0 160 -27 -1 c-16 0 -52 -9 -80 -19z"/>\n  <path d="M11020 2561 c0 -139 2 -162 16 -168 22 -8 247 216 234 232 -17 20\n  -163 84 -207 91 l-43 7 0 -162z"/>\n  <path d="M10366 2424 c-29 -44 -76 -165 -76 -194 0 -19 7 -20 165 -20 126 0\n  165 3 165 13 0 7 -51 63 -114 126 l-114 114 -26 -39z"/>\n  <path d="M11313 2348 c-61 -62 -109 -119 -106 -125 6 -15 333 -19 333 -4 0 45\n  -88 241 -108 241 -4 0 -57 -51 -119 -112z"/>\n  <path d="M10882 2338 c-17 -17 -15 -32 7 -52 16 -14 23 -15 41 -6 31 17 24 64\n  -10 68 -14 2 -31 -3 -38 -10z"/>\n  <path d="M10846 2159 c-68 -81 17 -194 110 -144 89 48 56 175 -46 175 -30 0\n  -44 -6 -64 -31z"/>\n  <path d="M10670 2126 c-19 -23 -8 -61 18 -64 44 -7 67 32 36 62 -19 20 -38 20\n  -54 2z"/>\n  <path d="M11106 2127 c-21 -16 -18 -45 7 -61 37 -23 77 35 41 61 -10 7 -21 13\n  -24 13 -3 0 -14 -6 -24 -13z"/>\n  <path d="M10290 1970 c0 -29 43 -141 74 -195 l28 -48 116 116 c81 81 113 120\n  109 131 -6 14 -29 16 -167 16 -152 0 -160 -1 -160 -20z"/>\n  <path d="M11207 1978 c-3 -7 47 -66 111 -130 l116 -118 27 43 c27 44 79 177\n  79 203 0 12 -28 14 -164 14 -122 0 -166 -3 -169 -12z"/>\n  <path d="M10881 1901 c-14 -25 -5 -48 20 -56 27 -9 51 13 47 44 -4 34 -51 43\n  -67 12z"/>\n  <path d="M10662 1697 c-61 -62 -112 -115 -112 -119 0 -20 201 -108 247 -108\n  10 0 13 34 13 164 0 140 -2 165 -16 170 -9 3 -16 6 -17 6 -1 0 -53 -51 -115\n  -113z"/>\n  <path d="M11033 1803 c-10 -3 -13 -47 -13 -169 0 -90 4 -164 8 -164 36 0 186\n  61 239 98 16 10 -216 242 -234 235z"/>\n  </g>\n  </svg>\n  `}},303:function(e,t,n){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),n(296),(new(i(n(477)).default)).run()}},t={};function n(i){var a=t[i];if(void 0!==a)return a.exports;var r=t[i]={exports:{}};return e[i].call(r.exports,r,r.exports,n),r.exports}n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(303)})();